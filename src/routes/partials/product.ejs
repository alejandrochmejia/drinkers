<li>
    <div class="productView">
        <img class="productImg" src=<%= producto.imagen %>>
        <input id="cantidad" type="number" class="productCant">
        <button onclick="addProduct()">Agregar</button>
    </div>
    <h4><%= producto.nombre_producto %></h4>
    <h5>Desde <%= producto.precio_detal %></h3>
</li>
<script>
    async function addProduct(){
        let producto = '<%= producto.nombre_producto %>'.replace(/ /g, '');
        let cantidad = document.getElementById('cantidad').value;

        if(localStorage.getItem(producto)){
            cantidad = parseInt(localStorage.getItem(producto)) + parseInt(cantidad)
        }

        const productStorage = {
            cantidad: cantidad,
            precio: '<%= producto.precio_detal %>',
            imagen: '<%= producto.imagen %>'
        }

        console.log(productStorage)
        console.log(typeof productStorage.cantidad)
        
        localStorage.setItem(producto, JSON.stringify(productStorage));

        document.getElementById('cart-length').innerText = localStorage.length;

        cargarCarrito();

    }
</script>